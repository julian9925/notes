<h1 id="environment-setup">environment setup<a aria-hidden="true" class="anchor-heading icon-link" href="#environment-setup"></a></h1>
<h1 id="openbmc-webui-環境設置">OpenBmc WebUI 環境設置<a aria-hidden="true" class="anchor-heading icon-link" href="#openbmc-webui-環境設置"></a></h1>
<h2 id="如何-build-openbmc-在-ubuntu-64-2004-上">如何 build OpenBmc 在 ubuntu 64 20.04 上<a aria-hidden="true" class="anchor-heading icon-link" href="#如何-build-openbmc-在-ubuntu-64-2004-上"></a></h2>
<p>參照 <a href="https://github.com/openbmc/openbmc">官方 OpenBmc 文件</a></p>
<ol>
<li>
<p>安裝有關套件，以 ubuntu 為例</p>
<pre><code>sudo apt install git python3-distutils gcc g++ make file wget \
   gawk diffstat bzip2 cpio chrpath zstd lz4 bzip2
</code></pre>
</li>
<li>
<p>clone OpenBmc code, 到 code 位置 setup</p>
<pre><code>git clone https://github.com/openbmc/openbmc
cd openbmc
. setup romulus //還有其他相關的環境可供部署
</code></pre>
</li>
<li>
<p>build</p>
<p><code>bitbake obmc-phosphor-image</code></p>
</li>
<li>
<p>QEMU running up，下載 qemu 進行安裝
參照 <a href="https://github.com/openbmc/docs/blob/master/development/dev-environment.md">OpenBmc develop 環境設置</a></p>
<pre><code>wget https://jenkins.openbmc.org/job/latest-qemu-x86/lastSuccessfulBuild/artifact/qemu/build/qemu-system-arm
chmod u+x qemu-system-arm
</code></pre>
</li>
<li>
<p>image 移到想要位置，對 image 進行 qemu 模擬</p>
<pre><code>cp ./tmp/deploy/images/romulus/obmc-phosphor-image-romulus.static.mtd ./

qemu-system-arm -m 256 -M romulus-bmc -nographic -drive file=./obmc-phosphor-image-romulus.static.mtd,format=raw,if=mtd -net nic -net user,hostfwd=tcp::2222-:22,hostfwd=tcp::2443-:443,hostname=qemu
</code></pre>
<blockquote>
<p>Note: 依照 REST, SSH 和 IPMI 在自己的 QEMU session，必須分別把 REST, SSH 和 IPMI 作 port forwarding</p>
</blockquote>
<h2 id="如何在-ubuntu-進行-web-ui-開發">如何在 ubuntu 進行 web-ui 開發<a aria-hidden="true" class="anchor-heading icon-link" href="#如何在-ubuntu-進行-web-ui-開發"></a></h2>
</li>
<li>
<p>clone web-ui vue</p>
<pre><code>https://github.com/openbmc/webui-vue.git
</code></pre>
</li>
<li>
<p>依照 <code>npm install</code> 結束後， <code>npm run serve</code></p>
</li>
<li>
<p>透過 vscode ssh 至 ubuntu 64 arm 進行開發</p>
</li>
</ol>